# 训练测试
conda activate equidiff

CUDA_VISIBLE_DEVICES=0 HYDRA_FULL_ERROR=1 
CUDA_VISIBLE_DEVICES=1 HYDRA_FULL_ERROR=1 


##  原始dp的unet的abs
###  demo=400   50次测试，成功率98(epoch65时ckpt=1.0开始未更新，即成功率没法更大变化)
python train_sim.py --config-name=robomimic_train_dp_diffusion_unet_abs task_name=stack_d1 n_demo=400
2分钟一个epoch ，50000/400=125个epoch，15gb 
8月15日19.41.57_diff_c_stack_d1
测试：
python eval_sim.py --checkpoint /media/disk7t/outputs/2025.08.15/19.41.57_diff_c_stack_d1/checkpoints/latest.ckpt -o data/stack_d1_eval_output_08151941

###  demo=200   50次测试，成功率88(epoch160到250，ckpt=0.92-0.94未更新，即成功率没大变化)
python train_sim.py --config-name=robomimic_train_dp_diffusion_unet_abs task_name=stack_d1 n_demo=200
1分钟一个epoch ，50000/200=250个epoch，15gb 
8月16日00.09.54_diff_c_stack_d1
测试：
python eval_sim.py --checkpoint /media/disk7t/outputs/2025.08.16/00.09.54_diff_c_stack_d1/checkpoints/latest.ckpt -o data/stack_d1_eval_output_08160009

###  demo=100   50次测试，成功率66(epoch110到250，ckpt=0.66未更新，即成功率没大变化)
python train_sim.py --config-name=robomimic_train_dp_diffusion_unet_abs task_name=stack_d1 n_demo=200
15s一个epoch 设定250个epoch，17gb 
8月16日15.44.55_diff_c_stack_d1
测试：
python eval_sim.py --checkpoint /home/hy/Desktop/stagedp/data/outputs/2025.08.16/15.44.55_diff_c_stack_d1/checkpoints/epoch=0110-test_mean_score=0.6600.ckpt -o data/stack_d1_eval_output_08160009

## ————demo=100适合作为baseline

###  修改ddpm到ddim
python train_sim.py --config-name=robomimic_train_dp_diffusion_unet_abs_ddim task_name=stack_d1 n_demo=200
XXs一个epoch 设定XXX个epoch，XXgb 
8月16日
测试：
python eval_sim.py --checkpoint /.ckpt -o data/stack_d1_eval_output_
成功率:

###  修改une网络的down_dims，[512, 1024, 2048]降低到[256, 512, 1024]
python train_sim.py --config-name=robomimic_train_dp_diffusion_unet_abs_unet256 task_name=stack_d1 n_demo=200
XXs一个epoch 设定XXX个epoch，XXgb 
8月16日
测试：
python eval_sim.py --checkpoint /.ckpt -o data/stack_d1_eval_output_
成功率:

###  修改图像分辨率从84x84到224x224
python train_sim.py --config-name=robomimic_train_dp_diffusion_unet_abs_224 task_name=stack_d1 n_demo=200
XXs一个epoch 设定XXX个epoch，XXgb 
8月16日
测试：
python eval_sim.py --checkpoint /.ckpt -o data/stack_d1_eval_output_
成功率:


###  原始dp的unet的transformer
python train_sim.py --config-name=robomimic_train_dp_diffusion_transformer_abs task_name=stack_d1 n_demo=200
1分钟一个epoch ，50000/200=250个epoch 

测试：
python eval_sim.py --checkpoint /media/disk7t/outputs/2025.08.15/19.36.58_equi_diff_stack_d1/checkpoints/latest.ckpt -o data/stack_d1_eval_output_08160009


###  eqdp的unet的rel 
python train_sim.py --config-name=robomimic_train_equi_diffusion_unet_rel task_name=stack_d1 n_demo=400
5分钟一个epoch ，50000/400=125个epoch，21gb
8月15日19.36.58_equi_diff_stack_d1


python train_sim.py --config-name=robomimic_train_equi_diffusion_unet_rel task_name=stack_d1 n_demo=200
5分钟一个epoch ，50000/200=250个epoch，21gb
8月16日

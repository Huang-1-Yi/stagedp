dp中，cond_predict_scale只支持FiLM调制（通过cond_predict_scale控制，如果为False则使用简单相加）。

dp3引入了condition_type参数，支持多种条件注入方式：
'film'：与代码1中FiLM相同（当cond_predict_scale=True时）。
'add'：与代码1中cond_predict_scale=False时相同（直接相加）。
新增了'cross_attention_add', 'cross_attention_film', 'mlp_film'。
条件编码器根据不同的condition_type有不同的实现，包括跨注意力机制（CrossAttention）和更复杂的MLP

model = ConditionalUnet1D(
    condition_type='film',  # 使用FiLM调节（代码1的唯一注入方式）
    use_down_condition=True,  # 下采样层使用条件
    use_mid_condition=True,   # 中间层使用条件
    use_up_condition=True,    # 上采样层使用条件
    cond_predict_scale=True
)